{"dependencies":[{"name":"./route","loc":{"line":13,"column":22}}],"generated":{"js":"\"use strict\";var t=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();exports.__esModule=!0;var e=require(\"./route\"),o=function(){return function(){var t=this;this.routers=[],this.applyRoutes=function(e){return t.routers.map(function(t){t.applyRoute(e)})},this.addEvent=function(){if(!t.routers.length)throw new Error(\"No Router Spacified\");for(var e=document.getElementsByClassName(\"router-link\"),o=function(o){e[o].onclick=function(){return t.routers[0].changeRoute(e[o].href)}},n=0;n<e.length;n++)o(n)},window.onpopstate=function(e){t.applyRoutes(e.target.location.pathname)},window.onpushstate=function(e){t.applyRoutes(e.target.location.pathname)}}}();exports.Base=o;var n=function(o){function n(t){var e=t.routes,n=t.appId,r=o.call(this)||this;return r.routes=new Array,r.app=document.getElementById(n),r.app||(r.app=document.createElement(\"div\"),r.app.id=n,document.body.appendChild(r.app)),e.map(function(t){r.registerRoute(t.route,t.render)}),r.routers.push(r),r.applyRoute(window.location.pathname),r.addEvent(),r}return t(n,o),n.prototype.registerRoute=function(t,o,n){void 0===n&&(n={scope:void 0});var r=n&&n.scope||{};return this.routes[this.routes.length]=new e.default({route:t,fn:o,scope:r})},n.prototype.applyRoute=function(t){for(var e=!1,o=0,n=this.routes.length;o<n;o++){var r=this.routes[o];if(r.matches(t)){var u=r.fn.apply(r.scope,[r.getArgumentsValues(t),history,t]);this.app.innerHTML=u,e=!0;break}}e||(this.app.innerHTML=\"<h1>not found</h1>\")},n.prototype.changeRoute=function(t){return t=t.split(window.location.origin).filter(function(t){return t})[0],event.preventDefault(),this.applyRoutes(t),history.pushState({},t,t),this.addEvent(),!1},n.prototype.goBack=function(){return event.preventDefault(),history.back(),!1},n.prototype.goForward=function(){return event.preventDefault(),history.forward(),!1},n}(o);exports.default=n;"},"hash":"a6cfaeed8b551be001277c62b376bb30"}